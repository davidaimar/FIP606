{
  "hash": "9d4a6af0a6d71221ae83c5b0e095582f",
  "result": {
    "markdown": "---\ntitle: \" \"\nformat: html\n---\n\n\n# Análise de Correlação de Variáveis\n\nA correlação é expressa por um coeficiente de correlação que varia de -1 a 1. Um coeficiente de correlação próximo de 1 indica uma forte relação linear positiva, próximo de -1 indica uma forte relação linear negativa, e próximo de 0 indica pouca ou nenhuma relação linear.\n\nFazendo uso da estatística, podemos afirmar que correlação entre duas variáveis é sgnificativa com base em um p valor.\n\nVeremos diferentes maneiras de realizar uma análise de correlação de variáveis no RStudio.\n\nPacotes carregados\n\n::: {.cell hash='Aula_9_cache/html/unnamed-chunk-1_d25173f777437a48e5c42be3a88d0886'}\n\n```{.r .cell-code}\nlibrary(tidyverse)\nlibrary(AgroR)\nlibrary(gsheet)\nlibrary(patchwork)\nlibrary(corrplot)\nlibrary(ggthemes)\n```\n:::\n\n\n## Primeiro Conjunto de Dados\n\nImportando os dados\n\n::: {.cell hash='Aula_9_cache/html/unnamed-chunk-2_dbb7f6990b599cdb227788a259109434'}\n\n```{.r .cell-code}\nimgs <- gsheet2tbl(\"https://docs.google.com/spreadsheets/d/1bq2N19DcZdtax2fQW9OHSGMR0X2__Z9T/edit#gid=373270992\")\n```\n:::\n\n\nModificação e Análise Visual dos Dados\n\n::: {.cell hash='Aula_9_cache/html/unnamed-chunk-3_fb8db6ba75094167f30bffcf3450daf7'}\n\n```{.r .cell-code}\nimgs |> \n  pivot_longer(3:5, names_to = \"method\",\n               values_to = \"value\") |> \n  ggplot(aes(method, value))+\n  geom_boxplot()\n```\n\n::: {.cell-output-display}\n![](Aula_9_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n\n```{.r .cell-code}\nimg1 <- imgs |> \n  ggplot(aes(Assess, LeafDoctor))+\n  geom_point()+\n  geom_smooth(method = \"lm\")\n\n    \n img2 <- imgs |> \n   ggplot(aes(Assess, ImageJ))+\n   geom_point()+\n   geom_smooth(method = \"lm\")\n \n  img3 <- imgs |> \n   ggplot(aes(ImageJ, LeafDoctor))+\n   geom_point()+\n   geom_smooth(method = \"lm\")\n\n img1 + img2 + img3\n```\n\n::: {.cell-output .cell-output-stderr}\n```\n`geom_smooth()` using formula = 'y ~ x'\n`geom_smooth()` using formula = 'y ~ x'\n`geom_smooth()` using formula = 'y ~ x'\n```\n:::\n\n::: {.cell-output-display}\n![](Aula_9_files/figure-html/unnamed-chunk-3-2.png){width=672}\n:::\n:::\n\n\nPor análise visual, as três variáveis avaliadas apresentam fortes correlações positivas.\n\nRealizando a análise estatística de correlação com funções do pacote **AgroR**:\n\n::: {.cell hash='Aula_9_cache/html/unnamed-chunk-4_40d82035c1351e198613bde130053385'}\n\n```{.r .cell-code}\nimgs2 <- imgs |> \n  dplyr::select(3:5)\n\n  corgraph(imgs2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n        Var1       Var2       cor            p\n2 LeafDoctor     Assess 0.9666367 5.972544e-42\n3     ImageJ     Assess 0.9776918 8.143613e-48\n6     ImageJ LeafDoctor 0.9797478 3.144091e-49\n```\n:::\n\n::: {.cell-output-display}\n![](Aula_9_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n\n```{.r .cell-code}\n  cor.test(imgs$Assess, imgs$LeafDoctor)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tPearson's product-moment correlation\n\ndata:  imgs$Assess and imgs$LeafDoctor\nt = 31.119, df = 68, p-value < 2.2e-16\nalternative hypothesis: true correlation is not equal to 0\n95 percent confidence interval:\n 0.9466882 0.9792005\nsample estimates:\n      cor \n0.9666367 \n```\n:::\n\n```{.r .cell-code}\n  cor(imgs$Assess, imgs$LeafDoctor)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n[1] 0.9666367\n```\n:::\n:::\n\n\nVemos que o indicativo visual se confirmou.\n\nRefazendo a mesma análise com um outro pacote, o **corrplot**, é possível criar uma série de variações com o mesmo resultado. Veja:\n\n::: {.cell hash='Aula_9_cache/html/unnamed-chunk-5_feb2ab84177ad086677e16477170e0e9'}\n\n```{.r .cell-code}\ncor_imgs2 <- cor(imgs2)\ncorrplot(cor_imgs2, method = \"number\", type = \"lower\")\n```\n\n::: {.cell-output-display}\n![](Aula_9_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n::: {.cell hash='Aula_9_cache/html/unnamed-chunk-6_2774aa618093626a788276a5889ead3e'}\n\n```{.r .cell-code}\ncor_img2 <- cor(imgs2)\ncorrplot(cor_imgs2, method = \"square\", type = \"lower\")\n```\n\n::: {.cell-output-display}\n![](Aula_9_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n::: {.cell hash='Aula_9_cache/html/unnamed-chunk-7_8a5555b38d1f86bfdfb2129ee48a0a9f'}\n\n```{.r .cell-code}\ncor_img <- cor(imgs2)\ncorrplot(cor_imgs2, method = 'number', type = 'upper', diag = FALSE)\n```\n\n::: {.cell-output-display}\n![](Aula_9_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n## Segundo Conjunto de Dados\n\nImportando, modificando e realizando as análises\n\n::: {.cell hash='Aula_9_cache/html/unnamed-chunk-8_966bcd904d50389aa4cb5a69c3bcdd5d'}\n\n```{.r .cell-code}\ncampo <- gsheet2tbl(\"https://docs.google.com/spreadsheets/d/1bq2N19DcZdtax2fQW9OHSGMR0X2__Z9T/edit#gid=866852711\")\n\ncampo2 <- campo |> \n  dplyr::select(DFC, FER, PROD)\n\ncorgraph(campo2)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n  Var1 Var2        cor            p\n2  FER  DFC  0.9316978 9.864101e-15\n3 PROD  DFC -0.6928161 1.110652e-05\n6 PROD  FER -0.6258321 1.277444e-04\n```\n:::\n\n::: {.cell-output-display}\n![](Aula_9_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n:::\n\n\nReportando teste através de texto\n\n::: {.cell hash='Aula_9_cache/html/unnamed-chunk-9_f60ba1b6e84c44f83c4c7db4f370e260'}\n\n```{.r .cell-code}\ncor.test(campo2$PROD, campo2$DFC)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n\n\tPearson's product-moment correlation\n\ndata:  campo2$PROD and campo2$DFC\nt = -5.2623, df = 30, p-value = 1.111e-05\nalternative hypothesis: true correlation is not equal to 0\n95 percent confidence interval:\n -0.8388581 -0.4537361\nsample estimates:\n       cor \n-0.6928161 \n```\n:::\n:::\n\n\nVizualização gráfica do novo conjunto\n\n::: {.cell hash='Aula_9_cache/html/unnamed-chunk-10_4f3a22ec30df9698eb6adc79c64d2c79'}\n\n```{.r .cell-code}\ncampo |> \n  ggplot(aes(DFC, PROD))+\n  geom_jitter()\n```\n\n::: {.cell-output-display}\n![](Aula_9_files/figure-html/unnamed-chunk-10-1.png){width=672}\n:::\n:::\n\n\nMais uma vez o gráfico construido acompanha os resultados obtidos com a análise estatística\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}